generator prisma {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = "***"
}

enum Country {
  AU
  BR
  CA
  CN
  ES
  FR
  GB
  IT
  JP
  MX
  NZ
  TR
  UA
  US
}

model Film {
  ///comment A unique ID for this film
  id                 String              @id
  ///comment Title of the film in the original language
  title              String              @unique
  ///comment Japanese title
  titleJP            String              @unique
  ///comment English title
  titleEN            String              @unique
  ///comment Initial release year of the film
  releaseYear        Int
  ///comment Main image for the film
  image              Image
  ///comment Releases of the film
  releases           Release[]
  ///comment Studio that produced the film
  studio             Studio?
  ///comment URL to watch the trailer
  trailer            String?
  ///comment Animation sequences for the film
  animationSequences AnimationSequence[]
  ///comment The composers of the film
  composers          Person[]            @relation(name: "FilmComposers")
  ///comment The directors of the film
  directors          Person[]            @relation(name: "FilmDirectors")
  ///comment The writers of the film
  writers            Person[]            @relation(name: "FilmWriters")
}

model AnimationSequence {
  id             String   @default(cuid()) @id
  artists        Person[]
  film           Film
  image          Image
  notes          String?
  timestampStart Int?
  timestampEnd   Int?
  url            String
}

model Image {
  id        String  @default(cuid()) @id
  copyright String?
  title     String
  url       String  @unique
}

model Person {
  ///comment A unique ID for this person
  id                 String              @id
  ///comment Last name of this person
  lastName           String
  ///comment First name of this person
  firstName          String
  ///comment This personâ€™s name in Kanji (Japanese only)
  kanji              String?
  ///comment Alias, usually if a person is better known by this
  alias              String?
  ///comment Image of this person
  image              Image?
  ///comment A short bio for this person
  description        String?
  ///comment Country this person is associated with
  country            Country
  ///comment Birthdays are split into day/month/year separately because we may not know all parts!
  birthYear          Int?
  ///comment Birthdays are split into day/month/year separately because we may not know all parts!
  birthMonth         Int?
  ///comment Birthdays are split into day/month/year separately because we may not know all parts!
  birthDay           Int?
  ///comment Death days are split into day/month/year separately because we may not know all parts!
  deathYear          Int?
  ///comment Death days are split into day/month/year separately because we may not know all parts!
  deathMonth         Int?
  ///comment Death days are split into day/month/year separately because we may not know all parts!
  deathDay           Int?
  ///comment Website of this person
  website            String?
  ///comment Films this person animated
  animationSequences AnimationSequence[]
  ///comment Films this person directed
  directed           Film[]              @relation(name: "FilmDirectors")
  ///comment Films this person wrote
  wrote              Film[]              @relation(name: "FilmWriters")
  ///comment Films this person composed the music for
  composed           Film[]              @relation(name: "FilmComposers")
  ///comment Studios this person founded
  founded            Studio[]
}

model Release {
  id           String  @default(cuid()) @id
  film         Film
  images       Image[] @relation(name: "ReleaseImages")
  releaseYear  Int
  releaseMonth Int?
  releaseDay   Int?
  country      Country
  ///comment Format for the release (e.g. DVD / BluRay / Television)
  format       String
  notes        String?
  runtime      Int
}

model Studio {
  id          String   @id
  name        String   @unique
  image       Image?
  foundedYear Int
  films       Film[]
  city        String?
  country     Country
  founders    Person[]
}
